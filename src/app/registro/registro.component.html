<div class="container-fluid">
    <h2>Register Form</h2>

    <form #personForm="ngForm" (ngSubmit)="onSubmit()" novalidate>
        <div class="form-group">
            <label>Name</label>
            <input  #name="ngModel" type="text" name="name" [class.is-invalid]="name.invalid && name.touched"  class="form-control" [(ngModel)]="personModel.name" required>
            <small *ngIf="name.invalid" class="text-danger">Name is required</small>
        </div>

        <div class="form-group">
            <label>Last Name</label>
            <input #lastName="ngModel" type="lastName" name="lastName" [class.is-invalid]="lastName.invalid && name.touched" class="form-control" [(ngModel)]="personModel.lastName" name="lastName" required>
            <small *ngIf="lastName.invalid" class="text-danger">Last name is required</small>
        </div>

        <div class="form-group">
            <select required
                    class="custom-select"
                    name="genre"
                    #genre=ngModel
                    [(ngModel)]="personModel.genre"
                    (blur)="validateGenre(genre.value)"
                    (change)="validateGenre(genre.value)"
                    [class.is-invalid]="genreIncorrect && genre.touched">
                <option value="default">My genre is...</option>
                <option *ngFor="let genre of genres">{{ genre }}</option>
            </select>
            <small *ngIf="genreIncorrect" class="text-danger">Please, select a genre</small>
        </div>

        <button class="btn btn-primary" [disabled]="personForm.form.invalid || genreIncorrect" type="submit">Sign in</button>
    </form>

    <small *ngIf="!submitted" class="text-danger">{{msgError}}</small>
</div>